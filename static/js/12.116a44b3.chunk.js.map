{"version":3,"sources":["pages/Game/Nipple/index.js"],"names":["Matter","use","Engine","RenderDom","DomBodies","World","Constraint","Mouse","Events","DomBody","Render","Nipple","props","useEffect","cw","document","body","clientWidth","ch","clientHeight","engine","create","render","stop","DebugRender","canvas","remove","mapping","ratioMultiplier","element","ctrX","ctrY","querySelector","backNippleOptions","isSensor","isStatic","Dom","backNipple","polygon","nippleSize","nippleBaseOptions","nippleBase","fingerOptions","density","finger","nippleOptions","nipple","nippleTopOptions","nippleTop","elastic","pointA","x","y","bodyB","stiffness","elastic2","bodyA","mouse","on","position","style","height","Math","abs","width","setPosition","add","world","run","clear","context","textures","background","id","borderRadius"],"mappings":"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","file":"static/js/12.116a44b3.chunk.js","sourcesContent":["import React, { useEffect, useRef } from \"react\"\nimport Matter from \"matter-js\"\nimport \"matter-dom-plugin\"\nMatter.use(\"matter-dom-plugin\")\n\nconst { Engine, RenderDom, DomBodies, World, Constraint, Mouse, Events, DomBody, Render } = Matter\n\nfunction Nipple(props) {\n  useEffect(() => {\n    const cw = document.body.clientWidth\n    const ch = document.body.clientHeight\n\n    const engine = Engine.create()\n    const render = RenderDom.create({ engine })\n    Render.stop(render.DebugRender)\n    render.DebugRender.canvas.remove()\n\n    render.mapping.ratioMultiplier = 1\n\n    const ctrX = cw / 2\n    const ctrY = ch / 2\n\n    const nippleSize = 30\n    var element\n\n    element = document.querySelector(\"#backnipple\")\n    const backNippleOptions = { isSensor: true, isStatic: true, Dom: { render, element } }\n    var backNipple = DomBodies.polygon(ctrX, ctrY, 12, nippleSize * 4, backNippleOptions)\n\n    element = document.querySelector(\"#nipplebase\")\n    var nippleBaseOptions = { isSensor: true, isStatic: true, Dom: { render, element } }\n    var nippleBase = DomBodies.polygon(ctrX, ctrY, 8, nippleSize, nippleBaseOptions)\n\n    element = document.querySelector(\"#finger\")\n    const fingerOptions = { density: 0.02, isStatic: true, Dom: { render, element } }\n    var finger = DomBodies.polygon(0, 0, 8, nippleSize / 2, fingerOptions)\n\n    element = document.querySelector(\"#nipple\")\n    var nippleOptions = { density: 0.004, Dom: { render, element } }\n    var nipple = DomBodies.polygon(ctrX, ctrY, 8, nippleSize, nippleOptions)\n\n    element = document.querySelector(\"#nippletop\")\n    var nippleTopOptions = { density: 0.004, isSensor: true, Dom: { render, element } }\n    var nippleTop = DomBodies.polygon(ctrX, ctrY, 8, nippleSize, nippleTopOptions)\n\n    var elastic = Constraint.create({ pointA: { x: ctrX, y: ctrY }, bodyB: nipple, stiffness: 0.02 })\n    var elastic2 = Constraint.create({ bodyA: nipple, bodyB: nippleTop, stiffness: 0.04 })\n\n    // add mouse control\n    var mouse = Mouse.create(document.body)\n\n    Events.on(engine, \"afterUpdate\", function () {\n      if (!mouse.position.x) {\n        return\n      }\n\n      //   nipple.Dom.element.style.opacity = nipple.velocity.x * 10\n      nipple.Dom.element.style.height = 100 * (1 - (Math.abs(ctrX - nipple.position.x) / cw) * 10) + \"px\"\n      nippleTop.Dom.element.style.width = 60 * (1 - (Math.abs(ctrX - nipple.position.x) / cw) * 10) + \"px\"\n\n      DomBody.setPosition(finger, {\n        x: mouse.position.x,\n        y: mouse.position.y,\n      })\n    })\n\n    // keep the mouse in sync with rendering\n    render.mouse = mouse\n\n    World.add(engine.world, [backNipple, nippleBase, nipple, nippleTop, elastic, elastic2, finger])\n\n    Engine.run(engine)\n    RenderDom.run(render)\n\n    return () => {\n      RenderDom.stop(render)\n      World.clear(engine.world)\n      Engine.clear(engine)\n      render.canvas = null\n      render.context = null\n      render.textures = {}\n    }\n  }, [])\n\n  return (\n    <div style={{ background: \"rgb(255, 236, 216)\", height: \"100vh\", width: \"100vw\" }}>\n      <div id=\"debug\"></div>\n      <div id=\"backnipple\" style={{ borderRadius: \"100%\", background: \"#FFD8D8\", width: \"200px\", height: \"200px\" }}></div>\n      <div id=\"finger\"></div>\n      <div id=\"nipplebase\" style={{ borderRadius: \"100%\", background: \"#ffbfbf\", width: \"100px\", height: \"100px\" }}></div>\n      <div id=\"nipple\" style={{ borderRadius: \"100%\", background: \"#ffbfbf\", width: \"100px\", height: \"100px\" }}></div>\n      <div id=\"nippletop\" style={{ borderRadius: \"100%\", background: \"rgb(255, 186, 186)\", width: \"60px\", height: \"60px\" }}></div>\n    </div>\n  )\n}\n\nexport default Nipple\n"],"sourceRoot":""}