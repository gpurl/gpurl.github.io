{"version":3,"sources":["pages/Game/PokemonTrivia/index.js"],"names":["PokemonTrivia","onDone","React","useState","pokemon","setPokemon","done","setDone","Form","useForm","form","useEffect","limit","console","log","fetch","then","r","json","pokemons","results","Math","floor","random","length","url","style","maxWidth","margin","padding","textAlign","alt","order","src","id","width","filter","transition","name","onFinish","values","diff","compareStrings","answer","setTimeout","message","error","setFieldsValue","undefined","Item","rules","required","type","htmlType"],"mappings":"mLAgFeA,UAjEO,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OAAa,EACNC,IAAMC,WADA,mBAC7BC,EAD6B,KACpBC,EADoB,OAEZH,IAAMC,UAAS,GAFH,mBAE7BG,EAF6B,KAEvBC,EAFuB,OAGrBC,IAAKC,UAAbC,EAH6B,oBAKpCR,IAAMS,WAAU,WAhBlB,IAA2BC,KAiBL,IAhBpBC,QAAQC,IAAIF,GACLG,MAAM,2CAAD,OAA4CH,IACrDI,MAAK,SAACC,GAAD,OAAOA,EAAEC,UACdF,MAAK,SAACC,GAAO,IACKE,EAAaF,EAAtBG,QACFhB,EAAUe,EAASE,KAAKC,MAAMD,KAAKE,SAAWJ,EAASK,SAC7D,OAAOT,MAAMX,EAAQqB,KAAKT,MAAK,SAACC,GAAD,OAAOA,EAAEC,cAUnBF,KAAKX,KAC3B,IAiBH,OAAKD,GACLS,QAAQC,IAAIV,GAGV,sBAAKsB,MAAO,CAAEC,SAAU,IAAKC,OAAQ,OAAQC,QAAS,GAAIC,UAAW,UAArE,UACE,qBACEC,IAAK3B,EAAQ4B,MACbC,IAAG,+DAAmD7B,QAAnD,IAAmDA,OAAnD,EAAmDA,EAAS8B,GAA5D,QACHC,MAAM,OACNT,MAAO,CAAEU,OAAQ9B,EAAO,GAAK,gBAAiB+B,WAAY,gBAE5D,sBAAKX,MAAO,CAAEG,QAAS,IAAvB,UACGvB,GAAQ,6BAAKF,EAAQkC,QACpBhC,GACA,qCACE,qDACA,eAAC,IAAD,CAAMI,KAAMA,EAAM6B,SA/BX,SAACC,GAChB,IAAMC,EAAOC,YAAetC,EAAQkC,KAAME,EAAOG,QAC7CF,EAAO,KACTlC,GAAQ,GACRqC,WAAW3C,EAAQ,MAEfwC,EAAO,GACTI,IAAQC,MAAM,0BAEdD,IAAQC,MAAM,gCACdpC,EAAKqC,eAAe,CAAEJ,YAAQK,MAqB1B,UACE,cAAC,IAAKC,KAAN,CACEX,KAAK,SACLY,MAAO,CACL,CACEC,UAAU,EACVN,QAAS,8BALf,SASE,cAAC,IAAD,MAEF,cAAC,IAAKI,KAAN,UACE,cAAC,IAAD,CAAQG,KAAK,UAAUC,SAAS,SAAhC,0CA7BO","file":"static/js/10.0ae8ac08.chunk.js","sourcesContent":["import React from \"react\"\nimport { Form, Input, Button, message } from \"antd\"\nimport { compareStrings } from \"../../../utils\"\n\nfunction fetchKantoPokemon(limit) {\n  console.log(limit)\n  return fetch(`https://pokeapi.co/api/v2/pokemon?limit=${limit}`)\n    .then((r) => r.json())\n    .then((r) => {\n      const { results: pokemons } = r\n      const pokemon = pokemons[Math.floor(Math.random() * pokemons.length)]\n      return fetch(pokemon.url).then((r) => r.json())\n    })\n}\n\nconst PokemonTrivia = ({ onDone }) => {\n  const [pokemon, setPokemon] = React.useState()\n  const [done, setDone] = React.useState(false)\n  const [form] = Form.useForm()\n\n  React.useEffect(() => {\n    fetchKantoPokemon(151).then(setPokemon)\n  }, [])\n\n  const onFinish = (values) => {\n    const diff = compareStrings(pokemon.name, values.answer)\n    if (diff > 0.95) {\n      setDone(true)\n      setTimeout(onDone, 3000)\n    } else {\n      if (diff > 0.9) {\n        message.error(\"Your Answer is Close!\")\n      } else {\n        message.error(\"Incorrect answer, try again!\")\n        form.setFieldsValue({ answer: undefined })\n      }\n    }\n  }\n\n  if (!pokemon) return null\n  console.log(pokemon)\n\n  return (\n    <div style={{ maxWidth: 500, margin: \"auto\", padding: 20, textAlign: \"center\" }}>\n      <img\n        alt={pokemon.order}\n        src={`https://pokeres.bastionbot.org/images/pokemon/${pokemon?.id}.png`}\n        width=\"100%\"\n        style={{ filter: done ? \"\" : \"brightness(0)\", transition: \"all 1500ms\" }}\n      />\n      <div style={{ padding: 20 }}>\n        {done && <h1>{pokemon.name}</h1>}\n        {!done && (\n          <>\n            <h1>Who's that pokemon?</h1>\n            <Form form={form} onFinish={onFinish}>\n              <Form.Item\n                name=\"answer\"\n                rules={[\n                  {\n                    required: true,\n                    message: \"Please input your answer!\",\n                  },\n                ]}\n              >\n                <Input />\n              </Form.Item>\n              <Form.Item>\n                <Button type=\"primary\" htmlType=\"submit\">\n                  Take a guess!\n                </Button>\n              </Form.Item>\n            </Form>\n          </>\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default PokemonTrivia\n"],"sourceRoot":""}