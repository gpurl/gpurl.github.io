(this.webpackJsonpgpl=this.webpackJsonpgpl||[]).push([[12],{360:function(e,t,n){"use strict";n.r(t);var i=n(5),o=n(0),s=n(361),a=n.n(s),r=n(176),p=n.n(r);n(362);p.a.use("matter-dom-plugin");var l=p.a.Engine,d=p.a.RenderDom,c=p.a.DomBodies,u=p.a.World,m=p.a.Constraint,y=p.a.Mouse,b=p.a.Events,h=p.a.DomBody,g=p.a.Render,x=!1;t.default=function(e){var t=e.onDone,n=e.scratches,s=void 0===n?50:n;return Object(o.useEffect)((function(){document.body.style.overflow="hidden";var e=document.body.clientWidth,n=document.body.clientHeight,i=0,o=l.create(),a=d.create({engine:o});g.stop(a.DebugRender),a.DebugRender.canvas.remove(),a.mapping.ratioMultiplier=1;var r,p=e/2,f=n/2,v=30;r=document.querySelector("#backNipple");var j={isSensor:!0,isStatic:!0,Dom:{render:a,element:r}},D=c.polygon(p,f,12,120,j);r=document.querySelector("#nippleBase");var w={isSensor:!0,isStatic:!0,Dom:{render:a,element:r}},S=c.polygon(p,f,8,v,w);r=document.querySelector("#finger");var _={density:.02,isStatic:!0,Dom:{render:a,element:r}},M=c.polygon(0,0,4,v,_);r=document.querySelector("#nippleBody");var B={isSensor:!0,isStatic:!0,Dom:{render:a,element:r}},k=c.polygon(p,f,8,v,B);r=document.querySelector("#nipple");var N={density:.004,Dom:{render:a,element:r}},O=c.polygon(p,f,8,v,N);r=document.querySelector("#nippleTop");var q={density:.004,isSensor:!0,Dom:{render:a,element:r}},R=c.polygon(p,f,8,v,q),A=m.create({pointA:{x:p,y:f},bodyB:O,stiffness:.02}),T=m.create({bodyA:O,bodyB:R,stiffness:.1}),C=y.create(document.body),E=document.querySelector("#container");return b.on(o,"afterUpdate",(function(){if(C.position.x){O.Dom.element.style.width=50+50*Math.max(0,1-Math.abs(p-O.position.x)/100)+"px",O.Dom.element.style.height=50+50*Math.max(0,1-Math.abs(f-O.position.y)/100)+"px",R.Dom.element.style.height=30+30*Math.max(0,1-Math.abs(f-R.position.y)/100)+"px",R.Dom.element.style.width=30+30*Math.max(0,1-Math.abs(p-R.position.x)/100)+"px";var e=Math.sqrt(Math.pow(p-R.position.x,2)+Math.pow(f-R.position.y,2));k.Dom.element.children[0].style.height=e+"px",E.setAttribute("fast",O.speed>5),E.setAttribute("stretched",e>80),O.speed>5?x||(x=!0,i++,console.log("scratch!")):x=!1,i>=s&&t(),h.setAngle(R,O.angle),h.setAngle(k,-Math.atan2(p-R.position.x,f-R.position.y)),h.setPosition(M,{x:C.position.x,y:C.position.y})}})),a.mouse=C,u.add(o.world,[D,S,k,O,R,A,T,M]),l.run(o),d.run(a),function(){document.body.style.overflow="",d.stop(a),u.clear(o.world),l.clear(o),a.canvas=null,a.context=null,a.textures={}}}),[t,s]),Object(i.jsxs)("div",{id:"container",className:a.a.container,style:{background:"rgb(255, 236, 216)",height:"100vh",width:"100vw"},children:[Object(i.jsx)("div",{id:"debug"}),Object(i.jsx)("div",{id:"finger"}),Object(i.jsx)("div",{id:"backNipple",className:a.a.backNipple,style:{borderRadius:"100%",background:"#FFD8D8",width:"200px",height:"200px"}}),Object(i.jsx)("div",{id:"nippleBase",className:a.a.nippleBase,style:{borderRadius:"100%",background:"#ffbfbf",width:"100px",height:"100px"}}),Object(i.jsx)("div",{id:"nippleBody",children:Object(i.jsx)("div",{className:a.a.nippleBody,style:{borderRadius:"10px",transform:"translate(0, -50%)",background:"linear-gradient(180deg, #ffbfbf 0%, rgb(255, 176, 176) 10%,#ffbfbf 100%)",width:"50px",height:"0"}})}),Object(i.jsx)("div",{id:"nipple",className:a.a.nipple,style:{borderRadius:"100%",width:"100px",height:"100px"}}),Object(i.jsx)("div",{id:"nippleTop",className:a.a.nippleTop})]})}},361:function(e,t,n){e.exports={nippleTop:"styles_nippleTop__izCCc",nipple:"styles_nipple__T5lSo",container:"styles_container__WzJvj",nippleBase:"styles_nippleBase__12u59",backNipple:"styles_backNipple__3c-Bd"}}}]);
//# sourceMappingURL=12.70618b70.chunk.js.map