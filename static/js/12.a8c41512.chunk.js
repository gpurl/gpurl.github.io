(this.webpackJsonpgpl=this.webpackJsonpgpl||[]).push([[12],{360:function(e,t,n){"use strict";n.r(t);var o=n(5),i=n(0),s=n(361),l=n.n(s),p=n(176),r=n.n(p);n(362);r.a.use("matter-dom-plugin");var a=r.a.Engine,c=r.a.RenderDom,d=r.a.DomBodies,u=r.a.World,y=r.a.Constraint,m=r.a.Mouse,b=r.a.Events,v=r.a.DomBody,g=r.a.Render,h=!1;t.default=function(e){var t=e.onDone,n=e.scratches,s=void 0===n?50:n;return Object(i.useEffect)((function(){document.body.style.overflow="hidden";var e=document.body.clientWidth,n=document.body.clientHeight,o=0,i=!1,l=a.create(),p=c.create({engine:l});g.stop(p.DebugRender),p.DebugRender.canvas.remove(),p.mapping.ratioMultiplier=1;var r,j=e/2,x=n/2,f=30;r=document.querySelector("#backNipple");var _={isSensor:!0,isStatic:!0,Dom:{render:p,element:r}},S=d.polygon(j,x,12,120,_);r=document.querySelector("#nippleBase");var B={isSensor:!0,isStatic:!0,Dom:{render:p,element:r}},D=d.polygon(j,x,8,f,B);r=document.querySelector("#finger");var N={density:.02,isStatic:!0,Dom:{render:p,element:r}},O=d.polygon(0,0,4,45,N);r=document.querySelector("#nippleBody");var q={isSensor:!0,isStatic:!0,Dom:{render:p,element:r}},w=d.polygon(j,x,8,f,q);r=document.querySelector("#nipple");var k={density:.004,Dom:{render:p,element:r}},A=d.polygon(j,x,8,f,k);r=document.querySelector("#nippleTop");var M={density:.004,isSensor:!0,Dom:{render:p,element:r}},T=d.polygon(j,x,8,f,M),R=y.create({pointA:{x:j,y:x},bodyB:A,stiffness:.1}),z=y.create({bodyA:A,bodyB:T,stiffness:.1}),C=m.create(document.body),E=document.querySelector("#container");return b.on(l,"afterUpdate",(function(){if(C.position.x){var e=Math.sqrt(Math.pow(j-T.position.x,2)+Math.pow(x-T.position.y,2));A.Dom.element.style.height=70-e/2+"px",T.Dom.element.style.height=30-e/2+"px",w.Dom.element.children[0].style.height=e+"px",E.setAttribute("fast",A.speed>3),E.setAttribute("stretched",e>40),A.speed>4?h||(h=!0,o++):h=!1,o>=s&&!i&&(i=!0,t());var n=-Math.atan2(j-T.position.x,x-T.position.y);v.setAngle(A,n),v.setAngle(T,n),v.setAngle(w,n),v.setPosition(O,{x:C.position.x,y:C.position.y})}})),p.mouse=C,u.add(l.world,[S,D,w,A,T,R,z,O]),a.run(l),c.run(p),function(){document.body.style.overflow="",c.stop(p),u.clear(l.world),a.clear(l),p.canvas=null,p.context=null,p.textures={}}}),[t,s]),Object(o.jsxs)("div",{id:"container",className:l.a.container,children:[Object(o.jsx)("div",{id:"debug"}),Object(o.jsx)("div",{id:"finger"}),Object(o.jsx)("div",{id:"backNipple",className:l.a.backNipple}),Object(o.jsx)("div",{id:"nippleBase",className:l.a.nippleBase}),Object(o.jsx)("div",{id:"nippleBody",children:Object(o.jsx)("div",{className:l.a.nippleBody})}),Object(o.jsx)("div",{id:"nipple",className:l.a.nipple}),Object(o.jsx)("div",{id:"nippleTop",children:Object(o.jsx)("div",{className:l.a.nippleTop})})]})}},361:function(e,t,n){e.exports={nippleTop:"styles_nippleTop__izCCc",nipple:"styles_nipple__T5lSo",container:"styles_container__WzJvj",nippleBody:"styles_nippleBody__2l9z5",nippleBase:"styles_nippleBase__12u59",backNipple:"styles_backNipple__3c-Bd"}}}]);
//# sourceMappingURL=12.a8c41512.chunk.js.map